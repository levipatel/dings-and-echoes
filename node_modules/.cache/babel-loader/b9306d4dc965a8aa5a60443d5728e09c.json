{"ast":null,"code":"import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeStereoPannerNodeFactory = (createNativeAudioNode, createNativeStereoPannerNodeFaker, createNotSupportedError) => {\n  return (nativeContext, options) => createNativeAudioNode(nativeContext, ntvCntxt => {\n    const channelCountMode = options.channelCountMode;\n    /*\n     * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n     * which supports it and therefore it can't be supported at all.\n     */\n\n    if (channelCountMode === 'clamped-max') {\n      throw createNotSupportedError();\n    } // Bug #105: Safari does not support the StereoPannerNode.\n\n\n    if (nativeContext.createStereoPanner === undefined) {\n      return createNativeStereoPannerNodeFaker(nativeContext, options);\n    }\n\n    const nativeStereoPannerNode = ntvCntxt.createStereoPanner();\n    assignNativeAudioNodeOptions(nativeStereoPannerNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeStereoPannerNode, options, 'pan');\n    /*\n     * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n     * which supports it and therefore it can't be supported at all.\n     */\n\n    Object.defineProperty(nativeStereoPannerNode, 'channelCountMode', {\n      get: () => channelCountMode,\n      set: value => {\n        if (value !== channelCountMode) {\n          throw createNotSupportedError();\n        }\n      }\n    });\n    return nativeStereoPannerNode;\n  });\n};","map":{"version":3,"sources":["../../../src/factories/native-stereo-panner-node-factory.ts"],"names":[],"mappings":"AAAA,SAAS,oCAAT,QAAqD,uDAArD;AACA,SAAS,4BAAT,QAA6C,6CAA7C;AAGA,OAAO,MAAM,mCAAmC,GAA0C,CACtF,qBADsF,EAEtF,iCAFsF,EAGtF,uBAHsF,KAItF;AACA,SAAO,CAAC,aAAD,EAAgB,OAAhB,KACH,qBAAqB,CAAC,aAAD,EAAiB,QAAD,IAAa;AAC9C,UAAM,gBAAgB,GAAG,OAAO,CAAC,gBAAjC;AAEA;;;;;AAIA,QAAI,gBAAgB,KAAK,aAAzB,EAAwC;AACpC,YAAM,uBAAuB,EAA7B;AACH,KAT6C,CAW9C;;;AACA,QAAI,aAAa,CAAC,kBAAd,KAAqC,SAAzC,EAAoD;AAChD,aAAO,iCAAiC,CAAC,aAAD,EAAgB,OAAhB,CAAxC;AACH;;AAED,UAAM,sBAAsB,GAAG,QAAQ,CAAC,kBAAT,EAA/B;AAEA,IAAA,4BAA4B,CAAC,sBAAD,EAAyB,OAAzB,CAA5B;AAEA,IAAA,oCAAoC,CAAC,sBAAD,EAAyB,OAAzB,EAAkC,KAAlC,CAApC;AAEA;;;;;AAIA,IAAA,MAAM,CAAC,cAAP,CAAsB,sBAAtB,EAA8C,kBAA9C,EAAkE;AAC9D,MAAA,GAAG,EAAE,MAAM,gBADmD;AAE9D,MAAA,GAAG,EAAG,KAAD,IAAU;AACX,YAAI,KAAK,KAAK,gBAAd,EAAgC;AAC5B,gBAAM,uBAAuB,EAA7B;AACH;AACJ;AAN6D,KAAlE;AASA,WAAO,sBAAP;AACH,GApCoB,CADzB;AAsCH,CA3CM","sourceRoot":"","sourcesContent":["import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeStereoPannerNodeFactory = (createNativeAudioNode, createNativeStereoPannerNodeFaker, createNotSupportedError) => {\n    return (nativeContext, options) => createNativeAudioNode(nativeContext, (ntvCntxt) => {\n        const channelCountMode = options.channelCountMode;\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        if (channelCountMode === 'clamped-max') {\n            throw createNotSupportedError();\n        }\n        // Bug #105: Safari does not support the StereoPannerNode.\n        if (nativeContext.createStereoPanner === undefined) {\n            return createNativeStereoPannerNodeFaker(nativeContext, options);\n        }\n        const nativeStereoPannerNode = ntvCntxt.createStereoPanner();\n        assignNativeAudioNodeOptions(nativeStereoPannerNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeStereoPannerNode, options, 'pan');\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        Object.defineProperty(nativeStereoPannerNode, 'channelCountMode', {\n            get: () => channelCountMode,\n            set: (value) => {\n                if (value !== channelCountMode) {\n                    throw createNotSupportedError();\n                }\n            }\n        });\n        return nativeStereoPannerNode;\n    });\n};\n//# sourceMappingURL=native-stereo-panner-node-factory.js.map"]},"metadata":{},"sourceType":"module"}