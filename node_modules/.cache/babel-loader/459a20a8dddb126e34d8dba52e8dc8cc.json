{"ast":null,"code":"export var createAddSilentConnection = function createAddSilentConnection(createNativeGainNode) {\n  return function (nativeContext, nativeAudioScheduledSourceNode) {\n    var nativeGainNode = createNativeGainNode(nativeContext, {\n      channelCount: 1,\n      channelCountMode: 'explicit',\n      channelInterpretation: 'discrete',\n      gain: 0\n    });\n    nativeAudioScheduledSourceNode.connect(nativeGainNode)\n    /*\n     * Bug #50: Edge does not yet allow to create AudioNodes on a closed AudioContext. Therefore the context property is\n     * used here to make sure to connect the right destination.\n     */\n    .connect(nativeGainNode.context.destination);\n\n    var disconnect = function disconnect() {\n      nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n      nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n      nativeGainNode.disconnect();\n    };\n\n    nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n  };\n};","map":{"version":3,"sources":["../../../src/factories/add-silent-connection.ts"],"names":[],"mappings":"AAEA,OAAO,IAAM,yBAAyB,GAAgC,SAAzD,yBAAyD,CAAC,oBAAD,EAAyB;AAC3F,SAAO,UAAC,aAAD,EAAgB,8BAAhB,EAAkD;AACrD,QAAM,cAAc,GAAG,oBAAoB,CAAC,aAAD,EAAgB;AACvD,MAAA,YAAY,EAAE,CADyC;AAEvD,MAAA,gBAAgB,EAAE,UAFqC;AAGvD,MAAA,qBAAqB,EAAE,UAHgC;AAIvD,MAAA,IAAI,EAAE;AAJiD,KAAhB,CAA3C;AAOA,IAAA,8BAA8B,CACzB,OADL,CACa,cADb;AAEI;;;;AAFJ,KAMK,OANL,CAMa,cAAc,CAAC,OAAf,CAAuB,WANpC;;AAQA,QAAM,UAAU,GAAG,SAAb,UAAa,GAAK;AACpB,MAAA,8BAA8B,CAAC,mBAA/B,CAAmD,OAAnD,EAA4D,UAA5D;AACA,MAAA,8BAA8B,CAAC,UAA/B,CAA0C,cAA1C;AACA,MAAA,cAAc,CAAC,UAAf;AACH,KAJD;;AAMA,IAAA,8BAA8B,CAAC,gBAA/B,CAAgD,OAAhD,EAAyD,UAAzD;AACH,GAvBD;AAwBH,CAzBM","sourceRoot":"","sourcesContent":["export const createAddSilentConnection = (createNativeGainNode) => {\n    return (nativeContext, nativeAudioScheduledSourceNode) => {\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        nativeAudioScheduledSourceNode\n            .connect(nativeGainNode)\n            /*\n             * Bug #50: Edge does not yet allow to create AudioNodes on a closed AudioContext. Therefore the context property is\n             * used here to make sure to connect the right destination.\n             */\n            .connect(nativeGainNode.context.destination);\n        const disconnect = () => {\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n            nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n    };\n};\n//# sourceMappingURL=add-silent-connection.js.map"]},"metadata":{},"sourceType":"module"}